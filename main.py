from rpc import rpc
from Core import core
from Diagram import diagram
from Diagram import undef_diagramm
import config


###Parameter
# name of the database 
#__databaseFile = config.CONFIG['database_file_name']
# the first block to analyze
#__start_block = config.CONFIG['start_block']
# the last block to analyze
#__end_block = config.CONFIG['end_block']

# get all Blocks and transactions in range of __start_block to __end_block
#block_trans = {}
#while __start_block < __end_block + 1:
#    block_trans.update(rpc.get_transactions(__start_block)[0])
#    __start_block += 1

# filter all transactions that contain a field OP_RETURN 
#find_block_trans = core.find_op_return(block_trans)

# save all transaction with a OP_RETURN field
#core.save_result_in_database(__databaseFile, find_block_trans)


# create diagram by using created database
diagram.create_diagrams()


#undef_diagramm.create_diagrams()
# aray = [data.loc[1]]
#from Diagram import weekly 
#weekly.diagram_weekly()


#from Diagram import addressen as a
#a.change_tx()

#import magic
#import binascii as by
 
#data = ''


#49454e44ae426082
#binary =by.unhexlify(data)
#mimetype = magic.from_buffer(binary)
#print(mimetype)


#import img
#img.img_db()
#f = open('i.jpeg','w')
#s = 'ffd8ffe1001845786966000049492a00080000000000000000000000ffec00114475636b7900010004000000290000ffee000e41646f62650064c000000001ffdb0084000c08080809080c09090c110b090b11140f0c0c0f14171212141212171611141313141116161a1b1d1b1a16232326262323323232323238383838383838383838010c0b0b0c0e0c0f0d0d0f140e0e0e14140f10100f141c13131413131c231a161616161a2320221d1d1d222026262323262630302e303038383838383838383838ffc00011080069007803012200021101031101ffc400a500000105010100000000000000000000000002030405060107010002030101000000000000000000000002030001040506100002010204030503070b0305000000000102031104002112053141135161221406718132f0b1c1d142922391a1e1f1526272a253150733245482c2f243641100010302020706040603000000000000010011022103311241516162130424718191a12232c1425363829223331405d15215ffda000c03010002110311003f00cf3ea0c6849249e6d4c2496e44d7da70350c8c0769c74250642a32f76302e9628a3834d64fbce38cce330c49f69c28aa96c87be980c60d6b96597b711580923a94a9273ef38e518e5a8927bce162199be14d439d331c699fbce1f1b56e0cab225b48ea5b478057c446ad26872cb12b8051a998e183ed5186b00856232e35399c39676f73757315ba31d52352a6b4038963970033c212ad4016bab2551993538dbfa6f6f8b64be48af8442fae202f5938455217a62849269f17cf8b88735c34a922c295931200d8b0c6a49d0e7467a6a482403d98e675a54d3dad8eca697b72a0ae8595d57a75d1931f8751ad30e1b69b46be9bf4eb4d5a4f1e1884312148fa999c92986eae9c9d8539f8b09d520156aff361722b82169a7950fb69cfbf1c2b5eff009b1151776493aca82ae50f31e235c734c9da72e3c70b55522b970eec057b39fb2b88ea324066042ea3c73ad7061c58d350d591eca0cf062dc2a62ea4716232e272f91c74a8a54d38000839e12c42b125a86a403c6bf9b1d4e35a901bb3ff001c2ea98e129115e544ea2c556a191eba47b6987e1b5796f56cb4133191612a457c45b4f23864a381e2e15cc659fbe98f4bdb36eb74bdb2dc12336f752d90574615325027c44506a4a0e5cf070866c52ae4f2d407c7c979f5fd8496f7372220f1dac333a0933a05593a60f1f1678d9fa56c4ec6cd6935cacf777482696df4d0f83c25d58e6451c0cc62c2e36b81f6ebb8771ced4cf23a22f1656713a93420d5589e78c2efb730ec9b8226d72df2dc4a11e496e2600bc6092116884e9efd5870808971a52b886e43212c017d9dea6faaf6e8b6c9b6c876a4e95e4d3b48ae29a4cb5519eacd5578d3862c3725db6c3a1733dba5d4ed69349a181413dc268040ab695a667d9df8adb9dd6cb76d9defef9c6df7166a22b7fc4690cb228af8eb52781e5f46245eedb7afb05a5d4cab751c03ad0a27e1ab210b51a5b87c22b5c51049f682311dc8e1310ca0ce71a18c9b1abb36b49f446ddb6dd6d31de5cdaf56ee3ba2e267e601572ab43c8af161db8b1f545849b8595c5e24f0c42ce366488f85c126b248ec1b2a52805315f2fabb64da2d5ad76d33137119914c4c15e1949a74ca38a0a2e60e78a9f4eccfbe5e4b0eed757cd3dc269d76ae35ba4757d332e9f101539d7ba982a3316aa019b899e265e82f17c68aa6ca0bebcff77297960575479332143b532f7b61fdcacdacf72b8b4d050c7232aa9d46ab5f053b6a31e8771b0dbd96cabb7eca2905d4f197049623c6859aa73e0bc30fee9636371bd58bdcea9ae151cc168bc02251baeddf55a0af6f7604dba63a94178ca5813ee3b75baf2fb88dada6303e9675c9c29274b735af0a8e78e398c8141527e8edcf0d878de591d0b68d6685c00fc79d2b8703d3322a33cf2c28863d89e0921ce95d5504834c1815fc432ecaf018314ad8ea435431cb99a9e5f3e17e2a642b5e34afd7849f8c8199a9a83fab0a5040a8e1dffab1455c599296392575892aeecd4441c493c39e351b5fa8e38b66b648085dc76f7e33339326bd5af4aa56aa076f6633b6d76d697715d226b781d641caa54ea1cb16d3c926d17b0eff0066b198ef888a5b640de16982bc8b193f1573008e07050720b16286528c651328e61a9d9f615ba4ddade57b40f1156bf4d4148aa82cb55a9e15600e58ac97d35b68df6daffcb524af4cc44fe1afef2a77770a626c10dbd8edfe625325a40cb5f22ee1e38eb98a65514af0078e2824f52ef167bf6df632c7243b55cbd3ad709a895009a2bb5083cfbb1a1cb5562908e63930d1fe15ebfa5f62b8bf324b651497102c6e921aad5896f8950807e1ecc5158ee0fea4de26da370855769d2e45a212b9c7451a9d34b115ce9c31a5b6dcadc5dcb34b7312c2d1c673aab506b39d4f7e31be99bbb5b5f524b71733245032cc048c68a753659e1339b4a001679556ee5ac09dae625289918db06de3891a36ad641e95d8ad497b7b54472a14b1ab92a828ab57248f7629bd35b36df7f6abbe5edaac7356540b13148da30c5433a291534c5f4fbe6dcd6b2496b770c8e2aa86a1943915f17bb3c60bd3deaedcb75dc8c3b8466786104a2c2ba20555e1ad1721c32c38333e21612260905e276d16d9b75b28cdc4c91755b6ca2f4221408ac3e32a3972cb197b8f53db35b6e5ba5ddc4d05edca982cd6ddea23aa9d042e4695ccf663437bb6db5e5ac97866babcb4353e4617544ca87491e1ae7db9e30ec927abb7746e82eddb66dcab6fd16720842ed41f09f19cf8e5df8a398907e51a35a740da8db946a6e4f190a088d55c5534025540d2125e4f1167ad4d7ed54f1c2e841afc273cf3c3db9ee116e1b8b4f0c3e5e1548e28e0c8e8112f4c0af3c970d509239f657099fb8d53a1588d088c9d6299834ad7f560c09f18cf307e5cf06295f7a764455908e199e1faf0286fdaafe6a7e7c12155721f9934238fbf2c2906a200e07801f4e581211023c125aa1b81cf9f2f9f1aedb6ff00d376db559cd753c1d0b31d7785c1373e714d750cfe1a7018c9bba87a0072e35a53e6c5afa5b681b9ef10922368ed99669965034e80c3c34a664e0ed9696b74abc018bbb3556abd53ea4b5b3db2ca61189aee69627b5858852d5e66b5c8579e293d55bc4d77eabdaf6dbd8cc56b6b2c6cd2529afa9456653c0ae127d1577ea196eefaf6fdd6ed24648a29a2210a8cc74f3cd69d83178f17a7fd1bb6431ee572669012d1eaac9296e07a1166517d871a1890cb2822241d23429d7be92b5baf075e4896a4d1429353dacd538c4ecfb247b8ef726d92cad1c71f57c6b427f0cd071cb3c7a4edb7a2f2049343c6e29aa39174b807812bdf8c47a5815f584c0fff004fce7196edb8095b61ee95575791e66f7039af59fd3b79a1850d54db8f42d85a5acf3f9e9d1228da47a05194635fd18c97f8ef7892c77596d513a89b8ae8200a90cb56527bb335c7a16ff7b0dc37f638bf167b8506ea34cd960269c3b5f1126dbb66df76fb8b4dae71692822079625d3347246da3a53a8d2d46e14c6984231044432e75de62edd637659db0a0d3d8a5ed9bd5b5f6dd70aa8b6f716d3c915c42b4d4194d03787f6f8e2a267d8248ae775b7b9812cf708997716d6cb708ea9a156155c836b1e2ae2924f476e1e9eb23b9c97e96f3ac9a11630f29735e390a9e153965863d5be9d92d6fc5fb431c56576b1d1a2a0569c20690e9ca953523109201718201106400962a86d046b0921588e54ad7db874558d1886af0a711852a2c633fca31d01415af84675238e3312e4ed5b406010a94753caa3061d511d573eca0edcf0622a5c2b99535e27c5c8d3df80c669c08eca7e8386de51aa9f6aa722683e6c4a5b3999430a5080451bf460e16ae4c9c91326d41d0cae5b80f54845f5d1326b40953515a0afe9c760b99ada759e32c5d789434a8ece387fc95d1351a7db515cfdd8436db764e4517de3eac3072dcc7d29782037ec107d71f15663fc8125b2c514562f2156fc59242b5d15f104a03534e1ab0adffd49b34b756d71b5ea96e2ea584decd3c67aa9144e1fa64bd5736ce8b9658a76db2f18f88a1f653eac20ed9755208561c8ea1f561a2cf30dfb52f02906561ff723e216f37ab7df2f374b4ddb6edc16d7cac7a34682c926ba3b6a00e608232eec57da6d1bc4376d7f69730477738940728c4069389504f2d5cf19d4bef56dba08adef088c64158a3e43f8d49c71f73f5ab0a1bc523f8621ff006621e5afc989b7278d450ab87302dc67185c888dc19655150adf6ad9b71d83786df6f2fd6e9c6a5b94a3069758ad3531e468709d9fd5fb749be5cdeee452cc4533cd132ac84ba3a0478bf0b89aaeaf173c67ee47aa2ed74dc5cea5e614aaf77d9030d41b3dca2f880a9e750705c1be056dc8f644a5895a3f3c47e20b587fc8f65712cfaed26862a910bad181404d0b28a1526b9d2b8ccee3badc6e7711d6491eda0af4d0d4005bb171d1b6dc529a47e5180585dafc28a3bea33c01b37ebfa53aee94c8cac820f1234da1214a83a9aadc3872c298a11e1247b6b85793bb15f08cc0a8a8c2bcb5c85a2c607bc614796bff004a7f94a70bf67ea47f326e300119d38541af6f2cf061114e3a80e5272e2053f260c2b29766aa6e6f0c51366e781e39d3862da134893f847cd8ad974ea34a50139e58b28bfd24fe11f363a9fd57bae764573ffb1f6c3b4a73561eb36b717709bacedb5af569fb35cf8623e0c76087046b5cd055e473c11d4ced68f275a0d3d3542bd2d4e24fb34e047e6c3179776d2d9cba522173d768d591429307c6080a00e2295c55e25ed46017a9d75568c86075950012326f1f8491c6878e126d88bcaa5ab4d88f3934d7456904db509223235b9b5d5098934fe2a1057abd5f0e6295ad49e54c428dedae0df82d1c4d22af40c9a56843ad6855400748e430f8f24af0089added84a3ccb3850e4f578a86cc268a70ca95c2cff6d20794e8f98e99e9f98d1a6bd67d5abecead14d35e585861fed56ee6d7f1478ea4e472ed4b282fe59edb529b64028e1749d6b365cfbf9f0c293fb2f480430184888bf5401288cf54c8a29e2d6be11961b0bb4973d2101b6ea379aea1f184d2b4f2f5ce95ad299f6e2bb72862530cb098fa6f146288ca4eb0835ea553506b8a8c448b3ce2faf67c542480ed12ac61fed758f5797369f83d2ad3add4d4bd41373d34d55ae5c29881ba8b00206b1a6870ecebf69496c91bb69c8f662beb82b87c6d349f313b12ccdc3305dc70e395c1862059cb572b29a7ed7d3830ed8556762a6875915f7e0c79ba7f23f17c5772bc1c7e5525d8b3357931c3335c5f854314e501cb4d14f0f68c4e3f1fbce1b97fd38fe5cf01638f98f0736dc9f14cbdc161c5cbb332802eb75ff9073fdd5fab1df37bb7fc83f757bfbb12d380f68fa31d5e7eff0099b1abaffb9e6b2f47b8a18bcdd6b4f307eeaf6fb31d179bae7fee387eeafd5894bf17bfe9c74713f2e589d7fdcf353a3dc510de6ec3ff007ff22f7f76017bbb65f8ff00c8bdddddf896787cbf7b02fcbf2ae275ff0073cd4e8f7144f3fbc7f5c7dc5fab079fde3fac3ee2f6d3b3128f01ecfaf0a5e7edfa717d7fdcf355d1bfcaa179fddbfacbf717b2b83fb86edfd553ff0040c4a6fa07cd8071f7fd382ebf7fcd0f47baa28dc776fea27dc18e8dcb76d40164cff7312470f7638df1a7bfe9c58ffa1bea1fe1eea8d688454b7c4c4127bc9c189b0fc63dd83187d5c4df7f35afd39375bc97ffd9'
#a = by.unhexlify(s)
#f.write("%s\n" % str(a))


#s = ''
#f = open('res.txt','w')
#with open('data.txt') as my_file:
#    testsite_array = my_file.readlines()

#    for i in testsite_array:
#        i = i[10:]
#        s = s + i.replace("\n","")
#    f.write("%s\n" % str(s))
